<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/ironman-draw.png">
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <title>
        
          [Java] JavaWeb项目 - Nucc  | Blog
        
    </title>

    <link rel="canonical" href="http://www.huweihuang.com/article/Javaweb项目/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS --> 
    <link rel="stylesheet" href="/css/beantech.min.css">
    
    <!-- Pygments Highlight CSS -->
    <link rel="stylesheet" href="/css/highlight.css">

    <link rel="stylesheet" href="/css/widget.css">

    <link rel="stylesheet" href="/css/rocket.css">

    <link rel="stylesheet" href="/css/signature.css">

    <link rel="stylesheet" href="/css/toc.css">

    <!-- Custom Fonts -->
    <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">
	<!-- Modified by Yu-Hsuan Yen -->
<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        
            background-image: url('/img/article_header/article_header.png')
            /*post*/
        
    }
    
</style>

<header class="intro-header" >
    <!-- Signature -->
    <div id="signature">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                
                    <div class="post-heading">
                        <div class="tags">
                            
                              <a class="tag" href="/tags/#Java" title="Java">Java</a>
                            
                        </div>
                        <h1>[Java] JavaWeb项目</h1>
                        <h2 class="subheading">JavaWeb项目-图书商城平台</h2>
                        <span class="meta">
                            Posted by Nucc on
                            2018-11-03
                        </span>
                    </div>
                


                </div>
            </div>
        </div>
    </div>
</header>

	
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Nucc</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    

                        
                    

                        
                        <li>
                            <a href="/archive/">往期内容</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/tags/">文章标签</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/about/">关于</a>
                        </li>
                        
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    <!-- Modify by Yu-Hsuan Yen -->

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <blockquote>
<p><a href="https://th9876user.github.io/" target="_blank" rel="noopener">Nucc</a> 分享的javaweb项目。<br>
项目前端网站原型是在网上某个论坛里面找的，后端由我注入灵魂。</p>
</blockquote>
<h1 id="项目需求分析">项目需求分析</h1>
<h3 id="图书商城项目需求分析">图书商城项目需求分析</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>导入前端原型</span><br><span class="line">功能分析</span><br><span class="line"><span class="meta"> &gt;</span>前台</span><br><span class="line">  用户模块：</span><br><span class="line">  注册</span><br><span class="line">  激活</span><br><span class="line">  登录</span><br><span class="line">  退出</span><br><span class="line">  查看所有分类</span><br><span class="line">  图书模块：</span><br><span class="line">   查询所有图书</span><br><span class="line">   按分类查询图书</span><br><span class="line">   查询图书详细（按id查）</span><br><span class="line">   购物车模块：</span><br><span class="line">   添加购物车条目；</span><br><span class="line">   清空所有条目；</span><br><span class="line">   删除指定条目；</span><br><span class="line"> 我的购物车（按用户查询购物车）</span><br><span class="line">  订单模块：</span><br><span class="line">  生成订单；</span><br><span class="line">  我的订单（按用户查询订单）</span><br><span class="line">  按id查询订单</span><br><span class="line">  确认收货</span><br><span class="line">  付款功能（只是跳转到银行页面）</span><br><span class="line">  付款回调功能（由银行来调用我们这个方法，表示用户已经付款成功）</span><br><span class="line">  后台：</span><br><span class="line">  管理员：</span><br><span class="line">   登录</span><br><span class="line">    分类管理：</span><br><span class="line">    添加分类</span><br><span class="line">    查看所有分类</span><br><span class="line">    删除分类</span><br><span class="line">    按id查询</span><br><span class="line">    修改分类</span><br><span class="line">   图书管理（我的）</span><br><span class="line">    查看所有图书</span><br><span class="line">    按id查询</span><br><span class="line">    删除图书</span><br><span class="line">    修改图书</span><br><span class="line">    添加图书（上传图片）</span><br><span class="line">  订单模块</span><br><span class="line">    查询所有订单</span><br><span class="line">    按状态查询订单</span><br><span class="line">    发货</span><br></pre></td></tr></table></figure>
<h3 id="数据库表">数据库表</h3>
<p><img src="_posts%5CJavaWeb2-imag.png" alt="数据库表"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">数据库表的建立</span><br><span class="line">tb_user</span><br><span class="line">category</span><br><span class="line">book</span><br><span class="line">orders</span><br><span class="line">orderitem</span><br></pre></td></tr></table></figure>
<h1 id="项目分析">项目分析</h1>
<p>Nucc Blog : <a href="https://th9876user.github.io/" target="_blank" rel="noopener">https://th9876user.github.io/</a><br>
前台页面: <img src="_posts%5CJavaWeb2-imag.png" alt="cc.toget"></p>
<h2 id="项目类">项目类</h2>
<h3 id="用简单的mvc框架">用简单的MVC框架</h3>
<p><img src="_posts%5CJavaWeb2-imag.png" alt=""></p>
<blockquote>
<p>domain:实体类层(具体类)<br>
servlet:直接连接jsp页面<br>
service:servlet与Dao层连接<br>
Dao:直接连接数据库</p>
</blockquote>
<h2 id="用户模块">用户模块</h2>
<h3 id="用户模块的相关类创建">用户模块的相关类创建</h3>
<hr>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* domain：User</span><br><span class="line">* dao：UserDao</span><br><span class="line">* service：UserDao</span><br><span class="line">* web.servlet：UserServlet</span><br></pre></td></tr></table></figure>
<h3 id="用户注册">用户注册</h3>
<h4 id="流程jspsuserregistjsp-gt-userservletregistgt-msgjsp">流程：/jsps/user/regist.jsp --&gt; UserServlet#regist()–&gt; msg.jsp</h4>
<h5 id="页面jsp">页面(jsp)：</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">regist.jsp</span><br><span class="line">  表面页面，请求UserServlet?regist()方法</span><br><span class="line">  参数：整个表单数据</span><br><span class="line">  msg.jsp</span><br><span class="line">Servlet：</span><br><span class="line">  UserServlet?regist()</span><br><span class="line">  一键封装表单数据到User form对象</span><br><span class="line">  补全：uid、激活码</span><br><span class="line">  输入校验：</span><br><span class="line">  保存错误信息到request</span><br><span class="line">  保存当前表单数据（form）到request（回显）；</span><br><span class="line">  转发回到regist.jsp</span><br><span class="line">  调用service的regist()方法，传递form过去；</span><br><span class="line">  如果抛出异常：保存错误信息（异常信息）、保存表单数据（回显）、转发到regist.jsp</span><br><span class="line">  如果没有抛出异常：</span><br><span class="line">  发邮件（发件人、收件人、标题、内容），内容中包含超链接，超链接指向可完成激活的Servlet地址！链接中要有激活码参数！</span><br><span class="line">  保存成功信息到request中</span><br><span class="line">  转发到msg.jsp</span><br><span class="line">Service：</span><br><span class="line">  UserService?regist(User form)</span><br><span class="line">  校验用户是否被注册，如果注册，抛出UserException；</span><br><span class="line">  校验邮箱是否被注册，如果注册，抛出UserException；</span><br><span class="line">  把user插入到数据库中</span><br><span class="line">Dao：</span><br><span class="line">  User findByUsername(String username)：按用户名查询用户</span><br><span class="line">  User findByEmail(String email)：按emal查询用户</span><br><span class="line">  void add(User form)：插入用户到数据库中</span><br></pre></td></tr></table></figure>
<h3 id="用户激活">用户激活</h3>
<h4 id="流程">流程</h4>
<blockquote>
<p>用户的邮件中 --&gt; UserServlet#active() --&gt; msg.jsp</p>
</blockquote>
<h3 id="用户登录">用户登录</h3>
<h4 id="流程">流程</h4>
<blockquote>
<p>/jsps/user/login.jsp --&gt; UserServlet#login() --&gt; index.jsp</p>
</blockquote>
<h3 id="用户退出">用户退出</h3>
<h4 id="流程">流程</h4>
<blockquote>
<p>top.jsp à UserServlet#quit() à login.jsp<br>
quit()：把session销毁！</p>
</blockquote>
<h2 id="分类模块">分类模块</h2>
<h3 id="分类模块的相关类创建">分类模块的相关类创建</h3>
<blockquote></blockquote>
<ul>
<li>cc.nucc.bookstore.category</li>
<li>domain：Category</li>
<li>dao：CategoryDao</li>
<li>service：CategoryService</li>
<li>web.servlet：CategoryServlet</li>
</ul>
<h3 id="查询所有分类">查询所有分类</h3>
<h4 id="流程">流程</h4>
<blockquote>
<p>main.jsp --&gt; CategoryService#findAll() --&gt; left.jsp</p>
</blockquote>
<h2 id="图书模块">图书模块</h2>
<h3 id="创建相关类">创建相关类</h3>
<blockquote></blockquote>
<ul>
<li>cc.nucc.bookstore.book</li>
<li>domain：Book</li>
<li>dao：BookDao</li>
<li>service :BookService</li>
<li>web.servle：BookServlet</li>
</ul>
<h3 id="查询所有图书">查询所有图书</h3>
<h4 id="流程">流程</h4>
<blockquote>
<p>left.jsp（全部分类）–&gt; BookServlet#findAll() --&gt; /jsps/book/list.jsp</p>
</blockquote>
<h3 id="按分类查询图书">按分类查询图书</h3>
<h4 id="流程">流程</h4>
<blockquote>
<p>left.jsp --&gt; BookServlet#findByCategory() --&gt; list.jsp</p>
</blockquote>
<h3 id="查询详细信息加载">查询详细信息（加载）</h3>
<h4 id="流程">流程</h4>
<blockquote>
<p>list.jsp（点击某一本书） --&gt; BookServlet#load() --&gt; desc.jsp</p>
</blockquote>
<h2 id="购物车模块">购物车模块</h2>
<h3 id="购物车存储">购物车存储：</h3>
<blockquote></blockquote>
<ul>
<li>保存在session中；</li>
<li>保存在cookie中；</li>
<li>保存在数据库中。&lt;—</li>
</ul>
<h3 id="创建相关类">创建相关类</h3>
<h4 id="购物车的结构">购物车的结构：</h4>
<blockquote></blockquote>
<ul>
<li>CartItem：包含图书和数量</li>
<li>Cart：cartItem的总计</li>
<li>dao：cartDao</li>
<li>service：CartService</li>
<li>web.servlet：CartServlet</li>
</ul>
<h4 id="流程页面">流程页面</h4>
<blockquote>
<p>/jsps/cart/list.jsp</p>
</blockquote>
<h4 id="添加购物车条目">添加购物车条目</h4>
<blockquote>
<p>/jsps/book/desc.jsp–&gt;CartServlet#addCartItems()–&gt;/jsps/cart/list.jsp</p>
</blockquote>
<h4 id="清空条目">清空条目</h4>
<blockquote>
<p>/jsps/cart/list.jsp --&gt;清空 --&gt; CartSerrvlet#clear()–&gt;/jsps/cart/list.jsp</p>
</blockquote>
<h4 id="删除购物车条目">删除购物车条目</h4>
<blockquote>
<p>/jsps/cart/list.jsp --&gt; 删除 --&gt; CartSerrvlet#delete()–&gt;/jsps/cart/list.jsp</p>
</blockquote>
<h4 id="我的购物车">我的购物车</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">top.jsp中存在一个链接：我的购物车</span><br><span class="line">我的购物车直接访问/jsps/cart/list.jsp，它会显示数据库中车的所有条目</span><br></pre></td></tr></table></figure>
<h2 id="订单模块">订单模块</h2>
<h3 id="创建相关类">创建相关类</h3>
<blockquote></blockquote>
<ul>
<li>domain：</li>
<li>Order</li>
<li>OrderItem</li>
<li>dao：OrderDao</li>
<li>service：OrderService</li>
<li>web.servlete：OrderServlet</li>
</ul>
<h3 id="生成订单">生成订单</h3>
<p><img src="_posts%5CJavaWeb2-imag.png" alt="add"></p>
<h3 id="我的订单按用户查">我的订单（按用户查）</h3>
<p><img src="_posts%5CJavaWeb2-imag.png" alt="add"></p>
<h3 id="加载订单按id查">加载订单（按id查）</h3>
<p><img src="_posts%5CJavaWeb2-imag.png" alt="add"></p>
<h3 id="确认收货">确认收货</h3>
<p><img src="_posts%5CJavaWeb2-imag.png" alt="add"></p>
<h3 id="支付">支付</h3>
<h4 id="易宝支付">易宝支付</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">在线支付的两种形式：</span><br><span class="line">1.  电商与银行直连！</span><br><span class="line">* 安全</span><br><span class="line">* 不收手续费</span><br><span class="line">* 不与小电商合作！</span><br><span class="line"></span><br><span class="line">2.  第三台支付平台</span><br><span class="line">* 支付宝</span><br><span class="line">* 易宝</span><br><span class="line">* 财富通</span><br><span class="line">好处：</span><br><span class="line">* 不安全</span><br><span class="line">* 收手续费（1%）</span><br><span class="line">* 小电商可以与其合作！</span><br><span class="line"></span><br><span class="line">需要在第三方注册账户</span><br><span class="line">* 需要认证！</span><br><span class="line">* 网上可以找到公共账户，所以测试金额在0.01元</span><br></pre></td></tr></table></figure>
<h4 id="易宝支付">易宝支付</h4>
<h5 id="去银行">去银行</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">* 易宝给了我们一个网址（支付网关），重定向到这个地址即可！</span><br><span class="line">* 还需要给这个地址后添加13+1个参数！</span><br><span class="line">https://www.yeepay.com/app-merchant-proxy/node?p0_Cmd=Buy&amp;p1_MerId=10001126856&amp;p2_Order=123456&amp;p3_Amt=1234.56&amp;p4_Cur=CNY&amp;p5_Pid=&amp;p6_Pcat=&amp;p7_Pdesc=&amp;p8_Url=http://localhost:8080/bookstore/OrderServlet?method=back&amp;p9_SAF=&amp;pa_MP=&amp;pd_FrpId= ICBC-NET-B2C&amp;pr_NeedResponse=1&amp;hmac=dd17580a3ca176ba62d6d348583ba88b</span><br><span class="line"></span><br><span class="line">* 易宝回调：</span><br><span class="line">* 点对点：易宝直接访问电商，这里没有客户端什么事了。</span><br><span class="line">* 这种方式是必须要使用的，我们这种方式是收不到的！因为我们没有固定IP</span><br><span class="line">* 易宝有一个重发机制，如果它访问你，你不给它回信息，它会一直重发！</span><br><span class="line">* 电商需要返回一个以SUCCESS开头的字符串即可！</span><br><span class="line">* 引导客户端浏览器重定向到电商。是让客户端访问电商！</span><br><span class="line">* 可以不使用的！</span><br><span class="line"></span><br><span class="line">* hmac：13参数值+keyValue(密钥) + 算法(md5)</span><br><span class="line">* 13参数值：自己设置的！</span><br><span class="line">* keyValue：易宝在我们注册后发给我们的，这个东东只有我们和易宝知道！</span><br><span class="line">* 底层为md5的算法：PaymentUtil.buildHmac(14个)，它返回hmac</span><br></pre></td></tr></table></figure>
<h5 id="支付去银行">支付（去银行）</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* 重定向！</span><br><span class="line">* 13+1个参数！</span><br></pre></td></tr></table></figure>
<h5 id="支付银行回馈">支付（银行回馈）</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* 校验访问者是否为易宝</span><br><span class="line">* 修改订单的状态</span><br></pre></td></tr></table></figure>
<h1 id="后台">后台</h1>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">后台的内容，必须要设置权限！</span><br><span class="line">用户可以访问一个网站的哪些内容？</span><br><span class="line">* dao：不行</span><br><span class="line">* service：不行</span><br><span class="line">* servlet：能！</span><br><span class="line">* jsp：能！</span><br><span class="line">　　用户可以访问的只有WEB层！</span><br></pre></td></tr></table></figure>
<h2 id="分类管理">分类管理</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 分类管理：</span><br><span class="line">* 添加分类</span><br><span class="line">* 查看所有分类</span><br><span class="line">* 删除分类</span><br><span class="line">* 按id查询</span><br><span class="line">* 修改分类</span><br></pre></td></tr></table></figure>
<h3 id="相关类创建">相关类创建</h3>
<blockquote></blockquote>
<ul>
<li>domain：Category</li>
<li>dao：CategoryDao</li>
<li>service：CategoryService</li>
<li>admin.web.servlet：AdminCategoryServlet（为管理员提供单独的Servlet，然后给这个Servlet添加过滤器！）</li>
</ul>
<h3 id="查看所有分类">查看所有分类</h3>
<blockquote></blockquote>
<ul>
<li>left.jsp上的菜单修改一下指向：AdminCategoryServlet#findAll()</li>
<li>findAll()：</li>
<li>调用service得到所有的分类List<category></category></li>
<li>保存到request域，转发到/adminjsps/admin/category/list.jsp</li>
<li>list.jsp：修改页面，显示所有分类！</li>
</ul>
<h3 id="添加分类">添加分类</h3>
<blockquote></blockquote>
<ul>
<li>add.jsp（表单页面）à</li>
<li>AdminCatetgoryServlet#add()：</li>
<li>封装表单数据；</li>
<li>补全：cid</li>
<li>调用service方法完成添加工作</li>
<li>调用findAll()方法</li>
<li>service#add(Category c)：略</li>
<li>dao#add(Catetgory c)：略</li>
</ul>
<h3 id="删除分类">删除分类</h3>
<blockquote></blockquote>
<ul>
<li>list.jsp（删除链接） à</li>
<li>AdminCategoryServlet#delete()</li>
<li>获取参数：cid</li>
<li>调用service方法完成删除！</li>
<li>如果出现异常，保存异常信息，转发到msg.jsp显示</li>
<li>调用findAll()</li>
<li>service#delete(String cid)：</li>
<li>通过cid查看该分类下的图书本数，如果大于0，抛出异常；</li>
<li>如果等于0，删除该分类；</li>
</ul>
<h3 id="修改分类">修改分类</h3>
<blockquote></blockquote>
<p>修改分为两步：1、加载分类，　2、修改分类<br>
第一步：加载分类</p>
<ul>
<li>list.jsp（修改链接） à</li>
<li>AdminCategoryServlet#editPre()</li>
<li>获取cid</li>
<li>通过cid来调用service方法，得到Category对象</li>
<li>保存到request域中，转发到mod.jsp</li>
<li>mod.jsp：把当前的Category对象显示到表单中<br>
第二步：修改分类</li>
<li>mod.jsp（提交表单）à</li>
<li>AdminCategoryServlet#edit()</li>
<li>封装表单数据</li>
<li>调用service方法完成修改工作</li>
<li>调用findAll()</li>
</ul>
<h2 id="图书管理">图书管理</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 图书管理（我的）</span><br><span class="line">* 查看所有图书</span><br><span class="line">* 按id查询</span><br><span class="line">* 删除图书</span><br><span class="line">* 修改图书</span><br><span class="line">* 添加图书（上传图片）</span><br></pre></td></tr></table></figure>
<h3 id="相关类创建">相关类创建</h3>
<blockquote></blockquote>
<ul>
<li>web.servlet.admin：</li>
<li>AdminBookServlet；</li>
<li>AdminAddBookServlet（添加图书，包含上传）：上传不能使用BaseServlet，因为BaseServlet中需要使用getParameter()方法，而上传getParameter()方法就不能再使用了。</li>
</ul>
<h3 id="查询所有图书">查询所有图书</h3>
<blockquote></blockquote>
<ul>
<li>left.jsp（菜单项（查看图书链接））à</li>
<li>AdminBookServlet#findAll()</li>
<li>查询所有图书，保存到request</li>
<li>转发到/adminjsps/admin/book/list.jsp</li>
<li>list.jsp：循环遍历所有图书</li>
</ul>
<h3 id="加载图书">加载图书</h3>
<blockquote></blockquote>
<ul>
<li>list.jsp（点击图名或图片） à</li>
<li>AdminBookServlet#load()</li>
<li>获取bid，通过bid调用BookService方法得到Book对象</li>
<li>保存到request中，转发到/adminjsps/admin/book/desc.jsp</li>
<li>desc.jsp：把当前book对象显示到表单中</li>
</ul>
<h3 id="添加图书">添加图书</h3>
<blockquote></blockquote>
<p>添加图书分两步：</p>
<ol>
<li>加载所有分类，到add.jsp中显示！</li>
</ol>
<ul>
<li>left.jsp（菜单项：添加图书） à</li>
<li>AdminBookServlet#addPre()：</li>
<li>查询所有分类，保存到request域，转发到add.jsp</li>
<li>在add.jsp中循环遍历所有分类，显示在<select>中</select></li>
</ul>
<blockquote></blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> 添加图书所需要的</span><br><span class="line">* 上传三步：</span><br><span class="line">* 创建工厂</span><br><span class="line">* 创建解析器</span><br><span class="line">* 解析request得到表单字段！</span><br><span class="line">* 把表单字段封装到Book对象中</span><br><span class="line">* 保存上传文件，把保存的路径设置给Book的image属性。</span><br><span class="line">* 调用service方法保存Book对象到数据库中</span><br><span class="line">* 调用findAll()</span><br></pre></td></tr></table></figure>
<h3 id="删除图书">删除图书</h3>
<blockquote></blockquote>
<p>book表与orderitem有关联关系！<br>
删除图书不是真的数据库表中删除记录，而是给book表添加一个del字段，它是booleanod类型，表示是否已删除！<br>
没有被删除的图书，该列的值为false，否则为true<br>
处理问题：</p>
<ul>
<li>修改BookDao：所有与查询相关的方法，都需要添加where条件，即del=false</li>
<li>修改Book类，添加del属性！<br>
删除图书：其实就是把表的del列修改为true！</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* desc.jsp（del按钮） </span><br><span class="line">* AdminBookServlet<span class="comment">#del()</span></span><br><span class="line">* 获取bid</span><br><span class="line">* 调用service方法完成删除</span><br><span class="line">* 返回列表，即调用findAll()</span><br></pre></td></tr></table></figure>
<h3 id="编辑图书">编辑图书</h3>
<blockquote></blockquote>
<ul>
<li>dsec.jsp（编辑按钮） à</li>
<li>AdminBookServlet#edit()</li>
<li>封装表单数据（必须让页面保证把image传递过来）</li>
<li>要求页面必须添加一个隐藏字段，把原来的图片路径传递过来！</li>
<li>调用service方法完成删除<br>
return findAll()</li>
</ul>
<h2 id="订单模块">订单模块</h2>
<blockquote></blockquote>
<p>所有订单：<br>
按状态查询订单</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adminjsps/admin/left.jsp/--&gt;findAllOrder()---&gt;adminjsps/admin/order/list.jsp</span><br></pre></td></tr></table></figure>
<h1 id="最后">最后</h1>
<blockquote>
<p>网站源码会上传至我的github</p>
</blockquote>
<h1 id="哈哈哈哈哈祝开心_">哈哈哈哈哈，祝开心^_^</h1>
<hr>

                

                <hr>
                <!-- Pager -->
                <ul class="pager">
                    
                    
                        <li class="next">
                            <a href="/article/第一篇博客-hexo+github博客/" data-toggle="tooltip" data-placement="top" title="[Hexo] Theme Nucc">Next Post &rarr;</a>
                        </li>
                    
                </ul>

                <br>
                
                <!-- require APlayer -->
                

                <!-- duoshuo Share start -->
                
                    <div class="ds-share"
                        style="text-align: right"
                        data-thread-key="article/Javaweb项目/"
                        data-title="[Java] JavaWeb项目"
                        data-url="http://www.huweihuang.com/article/Javaweb项目/"
                        data-images="http://www.huweihuang.com/article/Javaweb项目//img/article_header/article_header.png"
                        data-content="
Nucc 分享的javaweb项目。
项目前端网站原型是在网上某个论坛里面找的，后端由我注入... | Nucc  | Blog " >
                        <div class="ds-share-inline">
                          <ul  class="ds-share-icons-16">
                            <li data-toggle="ds-share-icons-more"><a class="ds-more" href="#">分享到：</a></li>
                            <li><a class="ds-wechat flat" href="javascript:void(0);" data-service="wechat">微信</a></li>
                            <li><a class="ds-weibo flat" href="javascript:void(0);" data-service="weibo">微博</a></li>
                            <li><a class="ds-douban flat" href="javascript:void(0);" data-service="douban">豆瓣</a></li>
                          </ul>
                          <div class="ds-share-icons-more">
                          </div>
                        </div>
                    <hr>
                    </div>
                
                <!-- 多说 Share end-->

                <!-- 多说评论框 start -->
                
                    <div class="comment">
                        <div class="ds-thread"
                            data-thread-key="article/Javaweb项目/"
                            data-title="[Java] JavaWeb项目"
                            data-url="http://www.huweihuang.com/article/Javaweb项目/" >
                        </div>
                    </div>
                
                <!-- 多说评论框 end -->

                <!-- disqus comment start -->
                
                    <div class="comment">
                        <div id="disqus_thread" class="disqus-thread"></div>
                    </div>
                
                <!-- disqus comment end -->

                
                    <!-- disqus 评论框 start -->
                    <div class="comment">
                        <div id="lv-container" data-id="city" data-uid="MTAyMC80MDcyOC8xNzI1NA=="></div>
                    </div>
                    <!-- disqus 评论框 end -->
                

            </div>
            
            <!-- Tabe of Content -->
            <!-- Table of Contents -->

  
    
      <aside id="sidebar">
        <div id="toc" class="toc-article">
        <strong class="toc-title">Contents</strong>
        
          <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#项目需求分析"><span class="toc-nav-number">1.</span> <span class="toc-nav-text">&#x9879;&#x76EE;&#x9700;&#x6C42;&#x5206;&#x6790;</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#图书商城项目需求分析"><span class="toc-nav-number">1.0.1.</span> <span class="toc-nav-text">&#x56FE;&#x4E66;&#x5546;&#x57CE;&#x9879;&#x76EE;&#x9700;&#x6C42;&#x5206;&#x6790;</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#数据库表"><span class="toc-nav-number">1.0.2.</span> <span class="toc-nav-text">&#x6570;&#x636E;&#x5E93;&#x8868;</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#项目分析"><span class="toc-nav-number">2.</span> <span class="toc-nav-text">&#x9879;&#x76EE;&#x5206;&#x6790;</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#项目类"><span class="toc-nav-number">2.1.</span> <span class="toc-nav-text">&#x9879;&#x76EE;&#x7C7B;</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#用简单的mvc框架"><span class="toc-nav-number">2.1.1.</span> <span class="toc-nav-text">&#x7528;&#x7B80;&#x5355;&#x7684;MVC&#x6846;&#x67B6;</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#用户模块"><span class="toc-nav-number">2.2.</span> <span class="toc-nav-text">&#x7528;&#x6237;&#x6A21;&#x5757;</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#用户模块的相关类创建"><span class="toc-nav-number">2.2.1.</span> <span class="toc-nav-text">&#x7528;&#x6237;&#x6A21;&#x5757;&#x7684;&#x76F8;&#x5173;&#x7C7B;&#x521B;&#x5EFA;</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#用户注册"><span class="toc-nav-number">2.2.2.</span> <span class="toc-nav-text">&#x7528;&#x6237;&#x6CE8;&#x518C;</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#流程jspsuserregistjsp-gt-userservletregistgt-msgjsp"><span class="toc-nav-number">2.2.2.1.</span> <span class="toc-nav-text">&#x6D41;&#x7A0B;&#xFF1A;/jsps/user/regist.jsp --&gt; UserServlet#regist()&#x2013;&gt; msg.jsp</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#页面jsp"><span class="toc-nav-number">2.2.2.1.1.</span> <span class="toc-nav-text">&#x9875;&#x9762;(jsp)&#xFF1A;</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#用户激活"><span class="toc-nav-number">2.2.3.</span> <span class="toc-nav-text">&#x7528;&#x6237;&#x6FC0;&#x6D3B;</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#流程"><span class="toc-nav-number">2.2.3.1.</span> <span class="toc-nav-text">&#x6D41;&#x7A0B;</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#用户登录"><span class="toc-nav-number">2.2.4.</span> <span class="toc-nav-text">&#x7528;&#x6237;&#x767B;&#x5F55;</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#流程"><span class="toc-nav-number">2.2.4.1.</span> <span class="toc-nav-text">&#x6D41;&#x7A0B;</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#用户退出"><span class="toc-nav-number">2.2.5.</span> <span class="toc-nav-text">&#x7528;&#x6237;&#x9000;&#x51FA;</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#流程"><span class="toc-nav-number">2.2.5.1.</span> <span class="toc-nav-text">&#x6D41;&#x7A0B;</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#分类模块"><span class="toc-nav-number">2.3.</span> <span class="toc-nav-text">&#x5206;&#x7C7B;&#x6A21;&#x5757;</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#分类模块的相关类创建"><span class="toc-nav-number">2.3.1.</span> <span class="toc-nav-text">&#x5206;&#x7C7B;&#x6A21;&#x5757;&#x7684;&#x76F8;&#x5173;&#x7C7B;&#x521B;&#x5EFA;</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#查询所有分类"><span class="toc-nav-number">2.3.2.</span> <span class="toc-nav-text">&#x67E5;&#x8BE2;&#x6240;&#x6709;&#x5206;&#x7C7B;</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#流程"><span class="toc-nav-number">2.3.2.1.</span> <span class="toc-nav-text">&#x6D41;&#x7A0B;</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#图书模块"><span class="toc-nav-number">2.4.</span> <span class="toc-nav-text">&#x56FE;&#x4E66;&#x6A21;&#x5757;</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#创建相关类"><span class="toc-nav-number">2.4.1.</span> <span class="toc-nav-text">&#x521B;&#x5EFA;&#x76F8;&#x5173;&#x7C7B;</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#查询所有图书"><span class="toc-nav-number">2.4.2.</span> <span class="toc-nav-text">&#x67E5;&#x8BE2;&#x6240;&#x6709;&#x56FE;&#x4E66;</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#流程"><span class="toc-nav-number">2.4.2.1.</span> <span class="toc-nav-text">&#x6D41;&#x7A0B;</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#按分类查询图书"><span class="toc-nav-number">2.4.3.</span> <span class="toc-nav-text">&#x6309;&#x5206;&#x7C7B;&#x67E5;&#x8BE2;&#x56FE;&#x4E66;</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#流程"><span class="toc-nav-number">2.4.3.1.</span> <span class="toc-nav-text">&#x6D41;&#x7A0B;</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#查询详细信息加载"><span class="toc-nav-number">2.4.4.</span> <span class="toc-nav-text">&#x67E5;&#x8BE2;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#xFF08;&#x52A0;&#x8F7D;&#xFF09;</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#流程"><span class="toc-nav-number">2.4.4.1.</span> <span class="toc-nav-text">&#x6D41;&#x7A0B;</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#购物车模块"><span class="toc-nav-number">2.5.</span> <span class="toc-nav-text">&#x8D2D;&#x7269;&#x8F66;&#x6A21;&#x5757;</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#购物车存储"><span class="toc-nav-number">2.5.1.</span> <span class="toc-nav-text">&#x8D2D;&#x7269;&#x8F66;&#x5B58;&#x50A8;&#xFF1A;</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#创建相关类"><span class="toc-nav-number">2.5.2.</span> <span class="toc-nav-text">&#x521B;&#x5EFA;&#x76F8;&#x5173;&#x7C7B;</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#购物车的结构"><span class="toc-nav-number">2.5.2.1.</span> <span class="toc-nav-text">&#x8D2D;&#x7269;&#x8F66;&#x7684;&#x7ED3;&#x6784;&#xFF1A;</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#流程页面"><span class="toc-nav-number">2.5.2.2.</span> <span class="toc-nav-text">&#x6D41;&#x7A0B;&#x9875;&#x9762;</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#添加购物车条目"><span class="toc-nav-number">2.5.2.3.</span> <span class="toc-nav-text">&#x6DFB;&#x52A0;&#x8D2D;&#x7269;&#x8F66;&#x6761;&#x76EE;</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#清空条目"><span class="toc-nav-number">2.5.2.4.</span> <span class="toc-nav-text">&#x6E05;&#x7A7A;&#x6761;&#x76EE;</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#删除购物车条目"><span class="toc-nav-number">2.5.2.5.</span> <span class="toc-nav-text">&#x5220;&#x9664;&#x8D2D;&#x7269;&#x8F66;&#x6761;&#x76EE;</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#我的购物车"><span class="toc-nav-number">2.5.2.6.</span> <span class="toc-nav-text">&#x6211;&#x7684;&#x8D2D;&#x7269;&#x8F66;</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#订单模块"><span class="toc-nav-number">2.6.</span> <span class="toc-nav-text">&#x8BA2;&#x5355;&#x6A21;&#x5757;</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#创建相关类"><span class="toc-nav-number">2.6.1.</span> <span class="toc-nav-text">&#x521B;&#x5EFA;&#x76F8;&#x5173;&#x7C7B;</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#生成订单"><span class="toc-nav-number">2.6.2.</span> <span class="toc-nav-text">&#x751F;&#x6210;&#x8BA2;&#x5355;</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#我的订单按用户查"><span class="toc-nav-number">2.6.3.</span> <span class="toc-nav-text">&#x6211;&#x7684;&#x8BA2;&#x5355;&#xFF08;&#x6309;&#x7528;&#x6237;&#x67E5;&#xFF09;</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#加载订单按id查"><span class="toc-nav-number">2.6.4.</span> <span class="toc-nav-text">&#x52A0;&#x8F7D;&#x8BA2;&#x5355;&#xFF08;&#x6309;id&#x67E5;&#xFF09;</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#确认收货"><span class="toc-nav-number">2.6.5.</span> <span class="toc-nav-text">&#x786E;&#x8BA4;&#x6536;&#x8D27;</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#支付"><span class="toc-nav-number">2.6.6.</span> <span class="toc-nav-text">&#x652F;&#x4ED8;</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#易宝支付"><span class="toc-nav-number">2.6.6.1.</span> <span class="toc-nav-text">&#x6613;&#x5B9D;&#x652F;&#x4ED8;</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#易宝支付"><span class="toc-nav-number">2.6.6.2.</span> <span class="toc-nav-text">&#x6613;&#x5B9D;&#x652F;&#x4ED8;</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#去银行"><span class="toc-nav-number">2.6.6.2.1.</span> <span class="toc-nav-text">&#x53BB;&#x94F6;&#x884C;</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#支付去银行"><span class="toc-nav-number">2.6.6.2.2.</span> <span class="toc-nav-text">&#x652F;&#x4ED8;&#xFF08;&#x53BB;&#x94F6;&#x884C;&#xFF09;</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#支付银行回馈"><span class="toc-nav-number">2.6.6.2.3.</span> <span class="toc-nav-text">&#x652F;&#x4ED8;&#xFF08;&#x94F6;&#x884C;&#x56DE;&#x9988;&#xFF09;</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#后台"><span class="toc-nav-number">3.</span> <span class="toc-nav-text">&#x540E;&#x53F0;</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#分类管理"><span class="toc-nav-number">3.1.</span> <span class="toc-nav-text">&#x5206;&#x7C7B;&#x7BA1;&#x7406;</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#相关类创建"><span class="toc-nav-number">3.1.1.</span> <span class="toc-nav-text">&#x76F8;&#x5173;&#x7C7B;&#x521B;&#x5EFA;</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#查看所有分类"><span class="toc-nav-number">3.1.2.</span> <span class="toc-nav-text">&#x67E5;&#x770B;&#x6240;&#x6709;&#x5206;&#x7C7B;</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#添加分类"><span class="toc-nav-number">3.1.3.</span> <span class="toc-nav-text">&#x6DFB;&#x52A0;&#x5206;&#x7C7B;</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#删除分类"><span class="toc-nav-number">3.1.4.</span> <span class="toc-nav-text">&#x5220;&#x9664;&#x5206;&#x7C7B;</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#修改分类"><span class="toc-nav-number">3.1.5.</span> <span class="toc-nav-text">&#x4FEE;&#x6539;&#x5206;&#x7C7B;</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#图书管理"><span class="toc-nav-number">3.2.</span> <span class="toc-nav-text">&#x56FE;&#x4E66;&#x7BA1;&#x7406;</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#相关类创建"><span class="toc-nav-number">3.2.1.</span> <span class="toc-nav-text">&#x76F8;&#x5173;&#x7C7B;&#x521B;&#x5EFA;</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#查询所有图书"><span class="toc-nav-number">3.2.2.</span> <span class="toc-nav-text">&#x67E5;&#x8BE2;&#x6240;&#x6709;&#x56FE;&#x4E66;</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#加载图书"><span class="toc-nav-number">3.2.3.</span> <span class="toc-nav-text">&#x52A0;&#x8F7D;&#x56FE;&#x4E66;</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#添加图书"><span class="toc-nav-number">3.2.4.</span> <span class="toc-nav-text">&#x6DFB;&#x52A0;&#x56FE;&#x4E66;</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#删除图书"><span class="toc-nav-number">3.2.5.</span> <span class="toc-nav-text">&#x5220;&#x9664;&#x56FE;&#x4E66;</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#编辑图书"><span class="toc-nav-number">3.2.6.</span> <span class="toc-nav-text">&#x7F16;&#x8F91;&#x56FE;&#x4E66;</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#订单模块"><span class="toc-nav-number">3.3.</span> <span class="toc-nav-text">&#x8BA2;&#x5355;&#x6A21;&#x5757;</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#最后"><span class="toc-nav-number">4.</span> <span class="toc-nav-text">&#x6700;&#x540E;</span></a></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#哈哈哈哈哈祝开心_"><span class="toc-nav-number">5.</span> <span class="toc-nav-text">&#x54C8;&#x54C8;&#x54C8;&#x54C8;&#x54C8;&#xFF0C;&#x795D;&#x5F00;&#x5FC3;^_^</span></a></li></ol>
        
        </div>
      </aside>
    

                
            <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                       
                          <a class="tag" href="/tags/#Java" title="Java">Java</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
                <hr>
                <h5>FRIENDS</h5>
                <ul class="list-inline">

                    
                        <li><a href="http://blog.csdn.net/huwh_" target="_blank">CSDN Blog Nucc </a></li>
                    
                        <li><a href="http://dockone.io/people/" target="_blank">DockOne Nucc </a></li>
                    
                        <li><a href="https://yq.aliyun.com/u/huweihuang" target="_blank">阿里云栖社区 Nucc </a></li>
                    
                </ul>
                
            </div>
        </div>
    </div>
</article>


<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
    // dynamic User by Hux
    var _user = 'NuccBlog';

    // duoshuo comment query.
    var duoshuoQuery = {short_name: _user };
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0]
         || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
</script>
<!-- 多说公共JS代码 end -->



<!-- disqus embedded js code start (one page only need to embed once) -->
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = "NuccBlog";
    var disqus_identifier = "http://www.huweihuang.com/article/Javaweb项目/";
    var disqus_url = "http://www.huweihuang.com/article/Javaweb项目/";

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<!-- disqus embedded js code start end -->



    <!-- 来必力City版公共JS代码 start (一个网页只需插入一次) -->
    <script type="text/javascript">
       (function(d, s) {
           var j, e = d.getElementsByTagName(s)[0];
    
           if (typeof LivereTower === 'function') { return; }
    
           j = d.createElement(s);
           j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
           j.async = true;
    
           e.parentNode.insertBefore(j, e);
       })(document, 'script');
    </script>
    <noscript>为正常使用来必力评论功能请激活JavaScript</noscript>
    <!-- 来必力City版 公共JS代码 end -->



<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'hover',
          placement: 'left',
          icon: 'ℬ'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                
                
                
                    <li>
                        <a target="_blank" href="https://www.zhihu.com/people/shi-wo-4-75-3">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa  fa-stack-1x fa-inverse">知</i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank" href="http://weibo.com/714329874">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                
                    <li>
                        <a target="_blank"  href="https://github.com/th9876user">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank"  href="https://www.linkedin.com/in/huweihuang">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; Nucc 2018 
                    <br>
                    Theme by <a href="http://beantech.org">BeanTech</a> 
                    <span style="display: inline-block; margin: 0 5px;">
                        <i class="fa fa-heart"></i>
                    </span> 
                    re-Ported by <a href="http://th9876user.github.io/">Nucc</a> 
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/    
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("http://www.huweihuang.com/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-XXXXXXXX-X';
    var _gaDomain = 'yoursite';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>




<!-- Baidu Tongji -->

<script>
    // dynamic User by Hux
    var _baId = '4b946d57659a17ea52da8927b8fe74ac';

    // Originial
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?" + _baId;
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
</script>






	<a id="rocket" href="#top" class=""></a>
	<script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
    <script type="text/javascript" src="/js/toc.js?v=1.0.0" async=""></script>
<!-- Image to hack wechat -->
<img src="http://www.huweihuang.com/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
